#
# Copyright (c) SAS Institute Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#


"""
Group with all the latest versions of kernel-devel in it for building kmods
"""


import time

class GroupKernelDevel(GroupSetRecipe):
    name = 'group-kernel-devel'
    version = time.strftime('%Y.%m.%d_%H%M.%S')

    def setup(r):
        r.dumpAll()

        local = r.Repository(r.macros.distro_label, r.flavor)
        # Kernel is usually only bumped once per release
        pkgs = local.find(*('%s[%s]' % (x, r.flavor) for x in [
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_71.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_71.7.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_71.14.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_71.18.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_71.18.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_71.24.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_71.29.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_131.0.15.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_131.2.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_131.4.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_131.6.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_131.12.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_131.17.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_131.21.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_220.el6-8-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_220.2.1.el6-8-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_220.4.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_220.4.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_220.7.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_220.13.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_220.17.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_220.23.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_279.el6-3-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_279.1.1.el6-4-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_279.2.1.el6-3-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_279.5.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_279.5.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_279.9.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_279.11.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_279.14.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_279.19.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_279.22.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_358.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_358.0.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_358.2.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_358.6.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_358.6.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_358.11.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_358.14.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_358.18.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_358.23.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_431.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_431.1.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_431.1.2.0.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_431.3.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_431.5.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_431.11.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_431.17.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_431.20.3.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_431.20.5.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_431.23.3.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_431.29.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_504.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_504.1.3.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_504.3.3.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_504.8.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_504.12.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_504.16.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_504.23.4.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_504.30.3.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_573.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_573.1.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_573.3.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_573.7.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_573.8.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_573.12.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_573.18.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_573.22.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_573.26.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_642.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_642.3.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_642.1.1.el6-2-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_642.4.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_642.6.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_642.6.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_642.11.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_642.13.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_642.13.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_642.15.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_696.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_696.1.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_696.3.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_696.3.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_696.6.3.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_696.10.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_696.10.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_696.10.3.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_696.13.2.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_696.16.1.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_696.18.7.el6-1-1',
             'kernel-devel=centos6.rpath.com@rpath:centos-6e/2.6.32_696.20.1.el6-1-1',
                        ]))

        r.Group(pkgs, checkPathConflicts=False, scripts=None)
